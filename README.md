# Cacheray

Cacheray is a tool suite to analyze memory access patterns in real programs and
simulate their effects on CPU caches.

It originated as a thesis project by Hannes Åström (@hannesastrom) and Wilhelm
Lundström (@WilhelmLund) at [Sandvine](http://www.sandvine.com), supervised by
Kim Gräsman (@kimgr).


## Cacheray runtime

Cacheray builds on the Clang ThreadSanitizer compiler instrumentation to record
memory accesses in programs.

The `cacheray/` directory contains source for a basic cacheray runtime.


## Dwarf2json

The simulator can use DWARF debug information to annotate memory accesses with
type information. The `scripts/dwarf2json` tool uses `pyelftools` to translate
the relevant DWARF debug info to a JSON format understood by the simulator.


## Cacheray simulator

The simulator can parse a trace generated by the Cacheray runtime, annotate it
with type information from Dwarf2json and simulate how a configurable CPU cache
would react to the memory access patterns.

The simulator source code lives under `sim/simulator_java` and builds with
Maven.
